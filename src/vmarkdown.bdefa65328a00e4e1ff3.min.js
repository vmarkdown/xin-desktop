!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.VMarkDown=t():e.VMarkDown=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){(function(t){const r=n(2),o=n(4),i=n(5),s=new(n(6))(new(n(7)));class u{constructor(e){this.options=Object.assign({rootClassName:"markdown-body",rootTagName:"main",hashid:!0},e?{rootClassName:e.rootClassName,rootTagName:e.rootTagName,hashid:!e.hasOwnProperty("hashid")||e.hashid}:{}),this.pluginManager=e.pluginManager,this.h=e.h||function(e,t,n){return n},this.mdast={},this.hast={position:{start:{line:-1,column:0},end:{line:-1,column:0}}}}async refresh(e){return await t(e)}async render1(e="",t){const n=this;console.time("worker");const{mdast:r,hast:o,plugins:s}=await parse(e,{rootClassName:"markdown-body",rootTagName:"main",hashid:!0});console.timeEnd("worker"),console.log(r),console.log(o),console.log(s),n.hast=o,console.time("plugins"),n.pluginManager&&n.pluginManager.load(s,function(){console.timeEnd("plugins"),n.$emit("refresh",o)}),console.time("render");const u=i(o,t);return console.timeEnd("render"),u}static async parse(e,t){console.time("worker");const{mdast:n,hast:r,plugins:o}=await function(e,t){return s.postMessage({markdown:e,options:t})}(e,t);return console.timeEnd("worker"),console.log(n),console.log(r),console.log(o),{mdast:n,hast:r,plugins:o}}static render(e,t){console.time("render");const n=i(e,t);return console.timeEnd("render"),n}async process(e="",t){const n=this,{mdast:r,hast:o,plugins:i}=await u.parse(e,Object.assign({},n.options,n.pluginManager?{plugins:n.pluginManager.getPlugins()}:{}));return n.mdast=r,n.hast=o,!t&&n.pluginManager&&i.length>0&&n.pluginManager.load(i).then(function(t){!!t&&t.length>0&&n.$emit("refresh",e)}),u.render(o,{h:n.h})}findNodeFromLine(e){return r.findNodeFromLine(this.hast,e)}findNodeByLine(e){return r.findNodeByLine(this.hast,e)}findNode(e){return r.findNode(this.hast,e)}}u.PluginManager=i.PluginManager,o.mixin(u),e.exports=u}).call(this,n(1))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var a,c=[],l=!1,f=-1;function p(){l&&a&&(l=!1,a.length?c=a.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=u(p);l=!0;for(var t=c.length;t;){for(a=c,c=[];++f<t;)a&&a[f].run();f=-1,t=c.length}a=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||u(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){const r=n(3);e.exports={findNodeByLine:function(e,t){let n=r(e,{line:t,column:1});return n&&"root"!==n.type?n:null},findNodeFromLine:function e(t,n,o=10){let i=r(t,{line:n,column:1});if(!t.position||!t.position.end)return null;const s=t.position.end.line;return i&&"root"!==i.type?i:o<=0&&n+1>s?null:e(t,n+1,o-1)},findNode:function(e,t){let n=r(e,t);return n&&"root"!==n.type?n:null}}},function(e,t){function n(e,t){return t.line>e.line||t.line===e.line&&t.column>=e.column}const r=[(e,t)=>"paragraph"===e.type?"root"===t.type:void 0,e=>"root"===e.type?null:void 0,e=>"tableCell"===e.type||void 0,e=>"heading"===e.type||void 0,e=>"list"===e.type?null:void 0,e=>"table"===e.type?null:void 0,(e,t)=>(!t||"listItem"!==t.type)&&void 0,(e,t)=>{if(["text","inlineCode","emphasis","strong","delete","link","image","linkReference","imageReference"].indexOf(e.type)>-1)return!1}];e.exports=function(e,t,o=[]){return e.position&&n(e.position.start,t)&&n(t,e.position.end)?function e(t,r,o,i){let s=i(r,o);if(!0===s)return r;if(!1===s)return o;if(r.children)for(const o of r.children)if(o.position&&n(o.position.start,t)&&n(t,o.position.end))return e(t,o,r,i);return r}(t,e,null,function(e){for(const t of e)if("function"!=typeof t)throw new Error("returnable must be an Array of Functions, while it is passed an "+typeof t);return(t,n)=>{for(const r of e){let e=r(t,n);if(void 0!==e)return e}}}([...o,...r])):null}},function(e,t){var n=function(){};n.prototype={$on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},$off:function(e,t){this._events=this._events||{},e in this._events!=!1&&this._events[e].splice(this._events[e].indexOf(t),1)},$emit:function(e){if(this._events=this._events||{},e in this._events!=!1)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},n.mixin=function(e){for(var t=["$on","$off","$emit"],r=0;r<t.length;r++)"function"==typeof e?e.prototype[t[r]]=n.prototype[t[r]]:e[t[r]]=n.prototype[t[r]];return e},e.exports=n},function(e,t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="vremark/",n(n.s=0)}([function(e,t,n){const r=n(1);e.exports=function(e,t){return r(e,t)}},function(e,t,n){e.exports=n(2)},function(e,t,n){var r=n(3);e.exports=function(e,t){return new r(t).parse(e)}},function(e,t,n){n(4);var r=n(5);function o(e){this.options=e||{},this.dataFuc=null,this.h=this.options.h||function(e,t,n){return n},this.renderer=Object.assign(r,this.options.renderer||{})}o.prototype.parseNodes=function(e,t){if(!e||0===e.length)return[];for(var n=[],r=0;r<e.length;r++){var o=e[r];o.index=r,o.parent=t;var i=this.parseNode(o);i&&n.push(i)}return n},o.prototype.parseNode=function(e,t){if(!e)return null;var n=this.parseNodes(e.children,e),r=this.h;return this.renderer[e.type]?this.renderer[e.type].apply(null,[r,e,e.data,n,this.options]):(console.error("renderer:"+e.type+" not found!"),null)},o.prototype.parse=function(e){try{return this.parseNode(e)}catch(e){return console.error(e),this.h?this.h("div",{},"error"):null}},e.exports=o},function(e,t){var n={vue:{test:function(e){return e&&e.toString().indexOf("vm")>-1},data:function(e,t){var n=e.data||{};return n.attrs=n.attrs||{},Object.assign(n.attrs,e.properties),e.hasOwnProperty("hash")&&(t.hashid&&Object.assign(n.attrs,{id:e.hash}),Object.assign(n,{key:e.hash})),n}},preact:{test:function(){return!1},data:function(e){return e.properties}}};e.exports=function(e,t,r){if(r){if(function(e){return"string"==typeof e||e instanceof String}(r)&&n.hasOwnProperty(r))return n[r].data;if(function(e){return e&&"[object Function]"==={}.toString.call(e)}(r))return r}for(var o=Object.keys(n),i=0;i<o.length;i++){var s=o[i],u=n[s];if(u.test(t))return u.data}return null}},function(e,t){e.exports={root:function(e,t,n,r,o){return e(t.tagName,n,r)},element:function(e,t,n,r,o){return e(t.tagName,n,r)},text:function(e,t){return t.value},comment:function(){},raw:function(e,t){return t.value}}}])},function(e,t,n){"use strict";var r=0;function o(e,t){var n=t.data;if(Array.isArray(n)&&!(n.length<2)){var r=n[0],o=n[1],i=n[2],s=e._callbacks[r];s&&(delete e._callbacks[r],s(o,i))}}function i(e){var t=this;t._worker=e,t._callbacks={},e.addEventListener("message",function(e){o(t,e)})}i.prototype.postMessage=function(e){var t=this,n=r++,i=[n,e];return new Promise(function(e,r){if(t._callbacks[n]=function(t,n){if(t)return r(new Error(t.message));e(n)},void 0!==t._worker.controller){var s=new MessageChannel;s.port1.onmessage=function(e){o(t,e)},t._worker.controller.postMessage(i,[s.port2])}else t._worker.postMessage(i)})},e.exports=i},function(e,t,n){e.exports=function(){return new Worker(n.p+"vmarkdown.worker.a904447cf8a56665dd9d.min.js")}}])});