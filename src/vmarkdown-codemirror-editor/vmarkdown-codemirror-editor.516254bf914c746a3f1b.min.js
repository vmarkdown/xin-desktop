!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.CodeMirrorEditor=t():e.CodeMirrorEditor=t()}(window,function(){return function(e){function t(t){for(var o,l,a=t[0],c=t[1],s=t[2],h=0,u=[];h<a.length;h++)l=a[h],r[l]&&u.push(r[l][0]),r[l]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);for(d&&d(t);u.length;)u.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,a=1;a<n.length;a++){var c=n[a];0!==r[c]&&(o=!1)}o&&(i.splice(t--,1),e=l(l.s=n[0]))}return e}var o={},r={0:0},i=[];function l(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=o,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(n,o,function(t){return e[t]}.bind(null,o));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var a=window.webpackJsonpCodeMirrorEditor=window.webpackJsonpCodeMirrorEditor||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var d=c;return i.push([2,1]),n()}([,,function(e,t,n){n(3),n(4);const o=n(5);e.exports=o},function(e,t,n){},function(e,t,n){},function(e,t,n){n(6);const o=n(0);n(1),n(7),n(9),n(10),n(11),n(12),n(13),n(14),n(15),n(16);const r=n(17),i=n(18);o.defineMode("vmarkdown",function(e,t){return o.overlayMode(o.getMode(e,t.backdrop||"text/markdown"),{token1:function(e,t){var n;if(e.match("{{"))for(;null!=(n=e.next());)if("}"==n&&"}"==e.next())return e.eat("}"),"mustache";for(;null!=e.next()&&!e.match("{{",!1););return null},token:function(e,t){return e.match(/^ {0,3}\[(TOC|toc)\]/,!0,!0)?"toc":(e.skipToEnd(),null)}})});const l={TABLE:["\n","| Month    | Assignee | Backup |","| :------- | --------:| :----: |","| January  | Dave     | Steve  |","| February | Gregg    | Karen  |","| March    | Diane    | Jorge  |","\n"].join("\n"),UNORDERED_LIST:["\n","- 1","- 2","- 3","- 4","\n"].join("\n"),ORDERED_LIST:["\n","1. 1","2. 2","3. 3","4. 4","\n"].join("\n"),TASK_LIST:["\n","- [x] 1","- [ ] 2","- [ ] 3","- [x] 4","\n"].join("\n"),MATH_BLOCK:["\n","$$","","$$","\n"].join("\n")},a=[{text:l.TABLE,displayText:"Table"},{text:l.UNORDERED_LIST,displayText:"Unordered List"},{text:l.ORDERED_LIST,displayText:"Ordered List"},{text:l.TASK_LIST,displayText:"Task List"},{text:l.MATH_BLOCK,displayText:"Math Block"}];e.exports=class extends r{constructor(e,t){super();const n=this;n.options=t||{},n.editor=o(e,Object.assign({theme:"default vmarkdown",value:"",mode:"vmarkdown",lineWrapping:!0,styleActiveLine:!0,scrollbarStyle:"native",dragDrop:!0,selectionsMayTouch:!1,extraKeys:{Enter:"newlineAndIndentContinueMarkdownList","Cmd-E":function(){!function(){const e=n.editor;o.showHint(e,function(){const t=e.getCursor(),n=e.getTokenAt(t),r=n.start,i=t.ch,l=t.line,c=n.string,s=a.filter(function(e){return e.text.indexOf(c)>=0});return{list:s.length?s:a,from:o.Pos(l,r),to:o.Pos(l,i)}},{completeSingle:!1})}()}}},n.options))}on(e,t){const n=this;switch(e){case"beforeChange":break;case"change":n.editor.on("change",function(e,o){n.$onChange(o,t)});break;case"scroll":n.editor.on("scroll",function(){n.$onScroll(t)});break;case"cursorChange":n.editor.on("cursorActivity",function(){n.$onCursorChange(t)})}}$onChange(e,t){const n=this;var o=e.origin,r=e.from,i=e.to,l=e.text,a=e.removed,c=r.line+1,s=i.line+1;r.ch,i.ch;const d={origin:o,changes:[]};if("+input"===o&&l[0].length>0&&0===a[0].length?d.origin="insert":"+input"===o&&l[0].length>0&&a[0].length>0?d.origin="replace":"+delete"===o&&a[0].length>0&&(d.origin="remove"),"+input"===o||"+delete"===o){let e=0,t=0===a.slice(-1)[0].length;for(let o=c;o<=s;o++){if(o===c&&(0===l[0].length&&a[e].length>0&&!t||l[0].length>0&&0===a[0].length||l[0].length>0&&a[e].length>0)){let e=n.getLine(o);d.changes.push({action:"replace",line:o,before:"",after:e})}else o===s&&t||d.changes.push({action:"remove",line:o,before:"",after:""});e++}}t&&t.call(n,d)}$onScroll(e){e&&e.call(this)}$onCursorChange(e){const t=this.editor.getCursor(),n={line:t.line+1,column:t.ch+1},o=this.editor.cursorCoords(t.line);Object.assign(n,o),e&&e.call(this,n)}getValue(){return i.trimTrailingLines(this.editor.getValue())}setValue(e){this.editor.setValue(e)}scrollTo(e){}async scrollToLine(e){}scrollIntoViewByLine(e){const t={line:e,ch:0};this.editor.scrollIntoView(t)}getScrollTop(){return this.editor.display.scroller.scrollTop}getFirstVisibleCoverageRatio(e,t){const n=this;if(t.start.line===t.end.line){const t=e-1;var o=n.editor.heightAtLine(t),r=n.editor.getLineHandle(t).height;return{line:e,coverageRatio:r?o/r:0}}const i=t.start.line,l=t.end.line-i+1;return{line:e,coverageRatio:(e<t.start.line?t.start.line:e)/l}}getFirstVisibleLine(){var e=this.editor.display.scroller.scrollTop;return this.editor.coordsChar({top:e,left:0},"local").line+1}getLastVisibleRow(){}getLine(e){return this.editor.doc.getLine(e-1)}openSma(){}formatHeading({level:e}){const t=this;t.editor.listSelections().forEach(function({anchor:n}){const o=n.line;let r=t.getLine(o+1);const i={line:o,ch:0},l={line:o,ch:r.length};r&&(r=r.replace(/^#+[ ]{0,3}/,""));let a="#";1===e?a="#":2===e?a="##":3===e?a="###":4===e?a="####":5===e?a="#####":6===e&&(a="######"),t.editor.replaceRange(a+" "+r,i,l)})}formatStrong(){const e=this.editor.getSelection();this.editor.replaceSelection("**"+e+"**")}formatEmphasis(){const e=this.editor.getSelection();this.editor.replaceSelection("*"+e+"*")}formatDelete(){const e=this.editor.getSelection();this.editor.replaceSelection("~~"+e+"~~")}formatUnderline(){this.editor.replaceSelection("---")}formatInlineCode(){const e=this.editor.getSelection();this.editor.replaceSelection("`"+e+"`")}formatCode(){const e=this.editor.getCursor(),t=["\n","``` ",this.editor.getSelection(),"```","\n"].join("\n");this.editor.replaceSelection(t);const n={line:e.line+2,ch:4};this.editor.setCursor(n)}formatLink(){const e=this.editor.getSelection();this.editor.replaceSelection("["+e+"]()")}formatImage({url:e=""}){const t=this.editor.getSelection();this.editor.replaceSelection("!["+t+"]("+e+")")}formatTable(){const e=this.editor.getCursor(),t=["\n","| Month    | Assignee | Backup |","| :------- | --------:| :----: |","| January  | Dave     | Steve  |","| February | Gregg    | Karen  |","| March    | Diane    | Jorge  |","\n"].join("\n");this.editor.replaceRange(t,e,e)}formatThematicBreak(){const e=this.editor.getCursor(),t=["","***",""].join("\n");this.editor.replaceRange(t,e,e)}formatBlockquote(){const e=this;e.editor.listSelections().forEach(function({anchor:t}){const n=t.line;let o=e.getLine(n+1);const r={line:n,ch:0},i={line:n,ch:o.length};e.editor.replaceRange("> "+o,r,i)})}formatList({ordered:e=!1,checked:t=!1}){const n=this;n.editor.listSelections().forEach(function({anchor:o,head:r}){const i=o.line,l=r.line;for(let o=i;o<=l;o++){const r=o;let i=n.getLine(r+1);if(!i)continue;const l={line:r,ch:0},a={line:r,ch:i.length};let c="-";e?c="1. ":t&&(c="- [ ] "),n.editor.replaceRange(c+" "+i,l,a)}})}execCommand(e,t={}){const n=this;switch(e){case"heading":n.formatHeading(t);break;case"strong":n.formatStrong();break;case"emphasis":n.formatEmphasis();break;case"delete":n.formatDelete();break;case"underline":n.formatUnderline();break;case"inlineCode":n.formatInlineCode();break;case"code":n.formatCode();break;case"link":n.formatLink();break;case"image":n.formatImage(t);break;case"table":n.formatTable(t);break;case"thematicBreak":n.formatThematicBreak(t);break;case"blockquote":n.formatBlockquote(t);break;case"list":n.formatList(t)}}}},,,,,,,,,,,,function(e,t){e.exports=class{on(e,t){}getValue(){}setValue(){}scrollTo(){}scrollToLine(e){}getLine(e){}}},function(e,t){e.exports={trimTrailingLines:function(e){for(var t=e,n=t.length-1;n>=0;){var o=t.charAt(n);if("\n"!==o&&" "!==o)break;--n}return t.slice(0,n+1)}}}])});